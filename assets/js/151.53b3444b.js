(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{554:function(a,s,t){"use strict";t.r(s);var e=t(27),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h3",{attrs:{id:"备份前的准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#备份前的准备工作"}},[a._v("#")]),a._v(" 备份前的准备工作")]),a._v(" "),t("p",[a._v("1、停业务，停监听")]),a._v(" "),t("p",[a._v("2、不要停数据库实例")]),a._v(" "),t("p",[a._v("3、字符集要统一，不然容易EXP-00091")]),a._v(" "),t("p",[a._v("4、Oracle11G有一个不导空表的问题，自己百度下")]),a._v(" "),t("h3",{attrs:{id:"开始备份"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始备份"}},[a._v("#")]),a._v(" 开始备份")]),a._v(" "),t("p",[a._v("oracle用户下，这里只备份DATABASE1，并且是全库备份")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("exp "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("userid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("system/oracle "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("owner")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("DATABASE1 "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("buffer")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2048000")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("file")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("DATABASE1.dmp "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("consistent")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("y "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("DATABASE1.log\n")])])]),t("h3",{attrs:{id:"恢复前的准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#恢复前的准备工作"}},[a._v("#")]),a._v(" 恢复前的准备工作")]),a._v(" "),t("p",[a._v("1、全库备份一般只做异机恢复，不做原机恢复")]),a._v(" "),t("p",[a._v("2、恢复之前确保表空间大小充足，最好新建一样名称的用户，因为有的存储过程或函数DML时喜欢按加上数据库用户")]),a._v(" "),t("h3",{attrs:{id:"开始恢复"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始恢复"}},[a._v("#")]),a._v(" 开始恢复")]),a._v(" "),t("p",[a._v("oracle用户下")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("imp system/oracle "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("file")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("DATABASE1.dmp "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("fromuser")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("DATABASE1 "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("touser")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("DATABASE1 "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("commit")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Y "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("buffer")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2048000")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("DATABASE1.log\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);