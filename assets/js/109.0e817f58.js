(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{512:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"uniq-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uniq-命令"}},[t._v("#")]),t._v(" uniq 命令")]),t._v(" "),a("h4",{attrs:{id:"文本去重显示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文本去重显示"}},[t._v("#")]),t._v(" 文本去重显示")]),t._v(" "),a("p",[t._v("有这么一个txt文件")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("sort.txt\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n")])])]),a("p",[t._v("去重看看结果")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniq")]),t._v(" sort.txt\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxxx zyttest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# uniq sort.txt ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("没有去重？")]),t._v(" "),a("p",[t._v("实际上uniq只能按行为单位给相邻的内容做去重，")]),t._v(" "),a("p",[t._v("上例中的4和4中间夹了个5和2，所以需要用到刚学的sort命令，排序后，再uniq")]),t._v(" "),a("p",[t._v("所以你留意的话，很多时候sort和uniq都是成对出现的")])]),t._v(" "),a("p",[t._v("再试一次")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" sort.txt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniq")]),t._v("\n")])])]),a("p",[t._v("很明显，这次就一个4了")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxxx zyttest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sort sort.txt | uniq")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n")])])]),a("h4",{attrs:{id:"uniq-c-计数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uniq-c-计数"}},[t._v("#")]),t._v(" uniq -c 计数")]),t._v(" "),a("p",[t._v("这个-c计数，就很常用了")]),t._v(" "),a("p",[t._v("还记得查看系统cpu信息那条命令么？")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" /proc/cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cut")]),t._v(" -f2 -d: "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniq")]),t._v(" -c\n")])])]),a("p",[t._v("这一条命令集合了，grep、cut、uniq")]),t._v(" "),a("p",[t._v("这次终于到了uniq -c了")]),t._v(" "),a("p",[t._v("之前不加uniq -c的结果是这样的")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxxx zyttest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat /proc/cpuinfo | grep name | cut -f2 -d: ")]),t._v("\n Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Platinum "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8163")]),t._v(" CPU @ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".50GHz\n Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Platinum "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8163")]),t._v(" CPU @ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".50GHz\n Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Platinum "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8163")]),t._v(" CPU @ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".50GHz\n Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Platinum "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8163")]),t._v(" CPU @ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".50GHz\n Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Platinum "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8163")]),t._v(" CPU @ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".50GHz\n Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Platinum "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8163")]),t._v(" CPU @ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".50GHz\n Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Platinum "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8163")]),t._v(" CPU @ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".50GHz\n Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Platinum "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8163")]),t._v(" CPU @ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".50GHz\n")])])]),a("p",[t._v("这次加上 uniq -c")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxxx zyttest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("  Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Platinum "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8163")]),t._v(" CPU @ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".50GHz\n")])])]),a("p",[t._v("发现第一列多了一个【8】,这个8就是-c计来的数")]),t._v(" "),a("p",[t._v("后续涉及到一些日志计数统计的命令，grep、sort、uniq、cut是经常要使用的")])])}),[],!1,null,null,null);s.default=e.exports}}]);